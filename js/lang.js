const translations = {
  en: {
    welcome: "Welcome, Trainer",
    subtitle: "Manage your clients and plans from one place",
    "nav-home": "Home",
    "nav-clients": "Clients",
    "nav-plans": "Plans",
    "nav-progress": "Progress",
    "nav-settings": "Settings",
    "quick-actions": "Quick Actions",
    "add-client": "âž• Add New Client",
    "create-plan": "ðŸ“„ Create New Plan",
    "view-progress": "ðŸ“Š View Progress Logs",
    "recent-activity": "Recent Activity",
    "no-activity": "No recent updates yet.",
    "clients-header": "Clients",
    "clients-subtext": "View and manage your current clients",
    "settings-header": "Settings",
    "settings-subtext": "Update your personal information",
    "label-name": "Name",
    "label-email": "Email",
    "label-password": "Password",
    "save-button": "Save Changes",
    "add-client-header": "Add New Client",
    "add-client-subtext": "Enter client details below",
    "label-age": "Age",
    "label-weight": "Weight (kg)",
    "label-goal": "Fitness Goal",
    "submit-button": "Add Client",
    "fullName": "Client's Full Name",
    "age": "25",
    "weight": "e.g. 85",
    "plans-title": "Plans",
    "plans-description": "Manage, create and assign workout or meal plans",
    "existing-plans": "Existing Plans",
    "create-new-plan": "Create New Plan",
    "add-plan": "âž• New Plan (Coming Soon)",
    "plan-muscle": "Muscle Gain",
    "plan-fatloss": "Fat Loss",
    "plan-meal": "Meal Plan",
    "label-membership": "Membership Active",
    "label-start-date": "Start Date",
    "label-end-date": "End Date",
    "label-notes": "Notes",
    "option-fat_loss": "Fat Loss",
    "option-muscle_gain": "Muscle Gain",
    "option-maintenance": "Maintenance",
    "create-plan-header": "Create New Plan",
    "back-button": "Back",
    "delete-button": "Delete",
    "edit-button": "Edit",
    "confirmation-message": "Are you sure?",
    "yes": "Yes",
    "no": "No",
    "error-invalid-email": "Invalid email format",
    "error-invalid-age": "Please enter a valid age",
    "error-invalid-weight": "Please enter a valid weight"
  },
  ar: {
    welcome: "Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù…Ø¯Ø±Ø¨",
    subtitle: "Ù‚Ù… Ø¨Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù…Ù„Ø§Ø¦Ùƒ ÙˆØ®Ø·Ø·Ù‡Ù… Ù…Ù† Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯",
    "nav-home": "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
    "nav-clients": "Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
    "nav-plans": "Ø§Ù„Ø®Ø·Ø·",
    "nav-progress": "Ø§Ù„ØªÙ‚Ø¯Ù…",
    "nav-settings": "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
    "quick-actions": "Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©",
    "add-client": "âž• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯",
    "create-plan": "ðŸ“„ Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© Ø¬Ø¯ÙŠØ¯Ø©",
    "view-progress": "ðŸ“Š Ø¹Ø±Ø¶ Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªÙ‚Ø¯Ù…",
    "recent-activity": "Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©",
    "no-activity": "Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.",
    "clients-header": "Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
    "clients-subtext": "Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¹Ù…Ù„Ø§Ø¦Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠÙŠÙ†",
    "settings-header": "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
    "settings-subtext": "ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©",
    "label-name": "Ø§Ù„Ø§Ø³Ù…",
    "label-email": "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
    "label-password": "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
    "save-button": "Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª",
    "add-client-header": "Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯",
    "add-client-subtext": "Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø£Ø¯Ù†Ø§Ù‡",
    "label-age": "Ø§Ù„Ø¹Ù…Ø±",
    "label-weight": "Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)",
    "label-goal": "Ø§Ù„Ù‡Ø¯Ù Ù…Ù† Ø§Ù„Ù„ÙŠØ§Ù‚Ø©",
    "submit-button": "Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„",
    "fullName": "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ø¹Ù…ÙŠÙ„",
    "age": "Ù¢Ù¥",
    "weight": "Ù…Ø«Ù„Ø§Ù‹ Ù¨Ù¥",
    "plans-title": "Ø§Ù„Ø®Ø·Ø·",
    "plans-description": "Ø¥Ø¯Ø§Ø±Ø© ÙˆØ¥Ù†Ø´Ø§Ø¡ ÙˆØªØ¹ÙŠÙŠÙ† Ø®Ø·Ø· Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø£Ùˆ Ø§Ù„ØªØºØ°ÙŠØ©",
    "existing-plans": "Ø§Ù„Ø®Ø·Ø· Ø§Ù„Ø­Ø§Ù„ÙŠØ©",
    "create-new-plan": "Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© Ø¬Ø¯ÙŠØ¯Ø©",
    "add-plan": "âž• Ø®Ø·Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ù‚Ø±ÙŠØ¨Ø§Ù‹)",
    "plan-muscle": "Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ø¹Ø¶Ù„ÙŠØ©",
    "plan-fatloss": "Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ†",
    "plan-meal": "Ø®Ø·Ø© ÙˆØ¬Ø¨Ø§Øª - Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ†",
    "label-membership": "Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ù†Ø´Ø·Ø©",
    "label-start-date": "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡",
    "label-end-date": "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡",
    "label-notes": "Ù…Ù„Ø§Ø­Ø¸Ø§Øª",
    "option-fat_loss": "Ø®Ø³Ø§Ø±Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ†",
    "option-muscle_gain": "Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ø¹Ø¶Ù„ÙŠØ©",
    "option-maintenance": "Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ²Ù†",
    "create-plan-header": "Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø©",
    "back-button": "Ø±Ø¬ÙˆØ¹",
    "delete-button": "Ø­Ø°Ù",
    "edit-button": "ØªØ¹Ø¯ÙŠÙ„",
    "confirmation-message": "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ",
    "yes": "Ù†Ø¹Ù…",
    "no": "Ù„Ø§",
    "error-invalid-email": "ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­",
    "error-invalid-age": "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù…Ø± ØµØ§Ù„Ø­",
    "error-invalid-weight": "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ²Ù† ØµØ§Ù„Ø­"
  }
};

function setLanguage(lang) {
  try {
    localStorage.setItem("lang", lang);
    applyLanguage(lang);
  } catch (err) {
    console.error("Error setting language:", err);
  }
}

function applyLanguage(lang) {
  try {
    const dict = translations[lang] || translations["en"];
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

    for (const key in dict) {
      const el = document.getElementById(key);
      if (!el) continue;
        if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
        el.placeholder = dict[key];
        } else if (el.tagName === "OPTION") {
        el.textContent = dict[key];
        } else {
        el.textContent = dict[key];
        }
    }
  } catch (err) {
    console.error("Error applying language:", err);
  }
}

document.addEventListener("DOMContentLoaded", () => {
  try {
    const savedLang = localStorage.getItem("lang") || "en";
    applyLanguage(savedLang);
  } catch (err) {
    console.error("Error during DOMContentLoaded language setup:", err);
  }
});
